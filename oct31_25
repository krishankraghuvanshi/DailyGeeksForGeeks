'''1 oct 2025
Shortest Cycle'''
import collections
class Solution:
    def shortCycle(self, V, edges):
        
        adj = collections.defaultdict(list)
        
        for u, v in edges:
            adj[u].append(v)
            adj[v].append(u)
            
       
        res = [float("inf")]
     
        def bfs(node):
            q = collections.deque()
            q.append(node)
            distances= [float("inf")] * V
            distances[node] = 0
            parent = [-1] * V
            while len(q) > 0:
                current = q.popleft()
                for neighbor in adj[current]:
                    if distances[neighbor] > distances[current]+1:
                        distances[neighbor] = distances[current] + 1
                        parent[neighbor] = current
                        q.append(neighbor)
                    else:
                        if parent[neighbor] != current and parent[current] != neighbor:
                            res[0] = min(res[0], distances[current]+distances[neighbor]+1)
        for i in range(V):
            bfs(i)
        if res[0] == float("inf"):
            return -1
        return res[0] 
       
